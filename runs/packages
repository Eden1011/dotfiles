#!/usr/bin/env bash

PACKAGES=(
	"nvim"
	"tmux"
	"zoxide"
	"kdiff3"
	"ripgrep"
	"stow"
	"alacritty"
	"mpv"
	"bat"
	"fzf"
	"zip"
	"btop"
	"tree-sitter"
	"nodejs22"
	"docker"
	"docker-compose"
	"gcc"
	"zig"
	"golang"
	"rust"
	"make"
	"cmake"
	"libopenh264-8-32bit"
	"mozilla-openh264"
	"composer"
	"php"
	"juliaup"
	"clang"
	"tectonic"
	"typst"
	"fd"
	"lazygit"
	"sqlite3"
	"alsa-firmware"
	"sof-firmware"
	"git-lfs"
	"libgthread-2_0-0"
	"python313-pre-commit"
	"git-filter-repo"
	"pnpm"
	"postgresql"
	"zlib-devel"
	"minikube"
	"gnu_parallel"
	"gpg"
	"pinentry"
)

if [[ $EUID -ne 0 ]]; then
	echo "You're not root -- rerunning packages script with elevated privileges..."
	exec sudo "$0" "$@"
fi

echo "Welcome to OpenSuse Tumbleweed packages installation script!"
echo "Processing packages..."

zypper install -y "${PACKAGES[@]}" 2>&1 >/dev/null

echo "All packages processed! Exiting..."
